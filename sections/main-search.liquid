<style>
  .search-page {
    max-width: var(--narrow-page-width);
    width: 100%;
    margin: 0 auto;
    text-align: center;
    overflow: hidden;
    padding: 0 20px;
  }
  .search__result{
    margin-top: 30px;
    font-size: var(--font-size-xl);
    text-align: left;
  }

  .search-results-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 20px;
    width: 100%;
    margin-top: 20px;
  }

  @media (max-width: 768px) {
    .search-results-grid {
      grid-template-columns: repeat(2, 1fr); /* âœ… 2 cards on mobile */
      gap: 15px;
    }
    .search-results-grid:has(> div:only-child) {
      grid-template-columns: 1fr;
    }
  }
</style>

<div class="search-page">
  <h1 class="search__result">Results</h1>

  {% if search.performed %}
    {% if search.results_count > 0 %}
      <div class="search-results-grid">
        {% for item in search.results %}
          {% if item.object_type == 'product' %}
            <div class="product-{{ item.id }}">
              {% render 'product-card', product: item %}
            </div>
          {% elsif item.object_type == 'collection' %}
            <div class="search-result-card">
              <a href="{{ item.url }}">
                {{ item.image | image_url: width: 300 | image_tag }}
                <p>Collection: {{ item.title }}</p>
              </a>
            </div>
          {% elsif item.object_type == 'article' %}
            <div class="search-result-card">
              <a href="{{ item.url }}">
                <p>Article: {{ item.title }}</p>
                <p>{{ item.excerpt | strip_html | truncate: 100 }}</p>
              </a>
            </div>
          {% else %}
            <div class="search-result-card">
              <a href="{{ item.url }}">
                <p>{{ item.title }}</p>
              </a>
            </div>
          {% endif %}
        {% endfor %}
      </div>
    {% else %}
      <p>No results found for "{{ search.terms }}".</p>
    {% endif %}
  {% endif %}
</div>
